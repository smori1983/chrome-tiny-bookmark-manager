/*!
 * smodules.js v0.1
 *
 * Copyright (c) 2012 smori <smori1983@gmail.com>
 * Dual licensed under the MIT or GPL-2.0 licenses.
 *
 * Date 2012-05-24 02:03:48
 */
var smodules={};smodules.ui={},smodules.util={},smodules.ui.hasId=function(a,b,c,d){var e=a.target;$(e).attr("id")===b?c(e):typeof d=="function"&&d(e)},smodules.ui.hasClass=function(a,b,c,d){var e=a.target;$(e).hasClass(b)?c(e):typeof d=="function"&&d(e)},smodules.ui.tab=function(){var a=function(a,b){var c=a.target;c.tagName==="A"&&b(c)},b=function(a,b){$("#"+a.id).find("a").each(function(c,d){d===b?($(d).addClass(a.selected),$($(d).attr("href")).show()):($(d).removeClass(a.selected),$($(d).attr("href")).hide())})};return function(c){if(typeof c.id!="string")return;return c=$.extend({mouseover:"mouse",selected:"selected",initial:0},c),$("#"+c.id).click(function(d){a(d,function(a){b(c,a),d.preventDefault()})}).mouseover(function(b){a(b,function(a){$(a).addClass(c.mouseover)})}).mouseout(function(b){a(b,function(a){$(a).removeClass(c.mouseover)})}),$("#"+c.id).find("a").eq(c.initial).click(),smodules.ui}}(),smodules.util.console=function(){var a={},b=!1;return a.on=function(){return b=!0,a},a.off=function(){return b=!1,a},a.log=function(c){return b&&console.log(c),a},a.time=function(c){return b&&console.time(c),a},a.timeEnd=function(c){return b&&console.timeEnd(c),a},a}(),smodules.template=function(){var a={},b=function(){var a={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#039;"};return function(b){return b.toString().replace(/[<>&"']g/,function(b){return a[b]})}}(),c=function(a){return a.replace(/[\*\+\?\.\-\[\]\{\}\\\/]/g,function(a){return"\\"+a})},d=c("{{"),e=c("}}"),f=function(a){return a.match(/\.html$/)},g=function(b,c,d){a.hasOwnProperty(b)?h(a[b],c,d):f(b)?$.ajax({url:b,success:function(e){a[b]=e,h(e,c,d)}}):h(b,c,d)},h=function(a,b,c){$.isArray(b)||(b=[b]),$.each(b,function(b,d){c(i(a,d))})},i=function(a,b){var c=a;return $.each(b,function(a,b){typeof b=="object"?c=j(c,a,b):c=k(c,a,b)}),c},j=function(a,f,g){var h=a,i=new RegExp(d+"\\s*("+c(f)+"[^\\s"+e+"]*)\\s*"+e,"g");return $.each(a.match(i),function(a,c){var f=new RegExp("^"+d+"\\s*|\\s*"+e+"$","g"),i=c.replace(f,"").split(".").slice(1),j=g;while(i.length>0)j=j[i.shift()];h=h.replace(c,b(j))}),h},k=function(a,f,g){var h=new RegExp(d+"\\s*"+c(f)+"\\s*"+e,"g");return a.replace(h,b(g))},l=function(a,b){return{get:function(c){g(a,b,function(a){c(a)})},appendTo:function(c){g(a,b,function(a){$(a).appendTo(c)})},insertBefore:function(c){g(a,b,function(a){$(a).insertBefore(c)})}}};return l.preFetch=function(b){return f(b)&&$.ajax({url:b,success:function(c){a[b]=c}}),l},l.setDelimiter=function(a,b){return d=c(a),e=c(b),l},l}(),smodules.storage=function(){var a={};return a.get=function(a,b){var c=localStorage.getItem(a);return typeof b=="undefined"?c:c===null?b:c},a.getJSON=function(a,b){var c=localStorage.getItem(a);return typeof b=="undefined"?c===null?{}:JSON.parse(c):c===null?b:JSON.parse(c)},a.set=function(a,b){localStorage.setItem(a,b)},a.setJSON=function(a,b){localStorage.setItem(a,JSON.stringify(b))},a}();